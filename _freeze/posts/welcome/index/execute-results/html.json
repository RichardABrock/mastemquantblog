{
  "hash": "764adbd52e05f05696f5807f48ef2a63",
  "result": {
    "markdown": "---\ntitle: \"Welcome To STEM MA Quantitative methods in Educational Research Blog\"\nauthor: \"Richard Brock and Peter Kemp\"\ndate: \"2023-11-02\"\ncategories: [news]\n---\n\n\nWe will use this blog to display student work from the MA STEM Quantitative methods in Educational Research\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Create a dataframe of country latitude and longitude data\nworld_data <- map_data(map=\"world\")\n\n# Create a dataframe of mean PISA science scores, and rename CNT to region\n# for the leftjoin mergining of dataframes\nWorldSci<-PISA_2018%>%\n  select(CNT, PV1SCIE)%>%\n  group_by(CNT)%>%\n  summarise(meanSci=mean(PV1SCIE, na.rm=TRUE))%>%\n  rename(region=CNT)\n\nlevels(WorldSci$region)[levels(WorldSci$region)==\"United Kingdom\"] <- \"UK\"\nlevels(WorldSci$region)[levels(WorldSci$region)==\"United States\"] <- \"USA\"\nlevels(WorldSci$region)[levels(WorldSci$region)==\"B-S-J-Z (China)\"] <- \"China\"\nlevels(WorldSci$region)[levels(WorldSci$region)==\"Russian Federation\"] <- \"Russia\"\n\n\nViet<-PISA_2018%>%\n  select(PV1SCIE, CNT)%>%\n  filter(CNT==\"Vietnam\")\n  \n# Add the country latitude and longitude data to the PISA scores\nWorldSci<-left_join(world_data, WorldSci, by=\"region\")\n# Use geom_map to plot the basic world map (fill is white, line colour is black)\n# Use geom_polygon to plot the PISA data\n# Add a colour scale\n\nLabels<-WorldSci%>%\n  group_by(region)%>%\n  summarise(meanSci=mean(meanSci), lat=mean(lat), long=mean(long))%>%\n  na.omit()\n\n\n\nggplot(data = WorldSci, aes(x=long, y=lat, group=group)) +\n  geom_map(data=world_data, map=world_data, aes(map_id=region), fill=\"white\", colour=\"black\")+\n  geom_polygon(aes(fill=meanSci)) +\n  scale_fill_viridis_c(option = \"viridis\")+\n  geom_text_repel(data=Labels, inherit.aes = F, aes(x=long, y=lat,label=region),\n                  size=3)+\n  ggtitle(\"Mean PISA scoures by country\")+\n  theme(plot.title = element_text(hjust = 0.5))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}